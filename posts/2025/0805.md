---
title: ç»™ä½ çš„ Curve ä¸»é¢˜æ·»åŠ ä¸€ä¸ªå¤©æ•°å€’è®¡æ—¶
tags: [å¼€å‘]
categories: [å¼€å‘æ•™ç¨‹]
date: 2025-08-05
description: Curve ä¸»é¢˜ï¼šTimeing ç»„ä»¶
references:
  - title: ç»™ä½ çš„Curveä¸»é¢˜æ·»åŠ ä¸€ä¸ªå‡ºç”Ÿå¤©æ•°çš„ä¾§è¾¹æ 
    url: https://ddnsy.fun/posts/bt
---
::: warning
åœ¨å¼€å§‹ä½¿ç”¨å®è·µä¹‹å‰ï¼Œä½ éœ€è¦æ³¨æ„ï¼Œè‡ªå»ºç½‘ç«™éœ€è¦**ä¸€å®šçš„ç›¸å…³çŸ¥è¯†**ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°**ä¸€ç³»åˆ—çš„é—®é¢˜**ï¼Œè¯·ç¡®ä¿ä½ æœ‰**ç‹¬ç«‹è§£å†³é—®é¢˜**çš„èƒ½åŠ›ã€‚<br>
å‡å¦‚ä½ æƒ³ä¿®æ”¹ä¸»é¢˜çš„æŸäº›ç»„ä»¶æˆ–æ ·å¼ï¼Œä½ è¿˜éœ€è¦æŒæ¡ **Vue.js** çš„ç›¸å…³çŸ¥è¯†<br>
è™½ç„¶å¦‚ä»Šä½ å¯ä»¥å€ŸåŠ© AI æ¥è¾…åŠ©å®Œæˆä¸€äº›éœ€æ±‚ï¼Œä½†**çŸ¥å…¶ç„¶ï¼ŒçŸ¥å…¶æ‰€ä»¥ç„¶**<br>
æ˜¯æ¯ä¸€ä¸ªä¼˜ç§€çš„äººéƒ½åº”è¯¥å…·å¤‡çš„åŸºæœ¬ç´ å…»ã€‚
:::

## æ–°å»º Timing.vue æ–‡ä»¶
æ–°å»ºåœ¨ï¼š`.vitepress\theme\components\Aside\Widgets\Timing.vue`<br>
å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š
```vue
<script setup>
import { useData } from "vitepress";

const { theme } = useData();

// æ‹¿åˆ°é…ç½®çš„æ—¥æœŸå­—ç¬¦ä¸²
const timingDate = computed(() => theme.value.aside.timing?.date);

// æŠŠæ—¥æœŸå­—ç¬¦ä¸²è§£ææˆ Date å®ä¾‹
const parsedDate = computed(() => {
  const ds = timingDate.value;
  return ds ? new Date(ds) : null;
});

// åˆ¤æ–­æ˜¯å¦ä¸ºæœªæ¥æ—¥æœŸ
const isFuture = computed(() => {
  const d = parsedDate.value;
  return d ? d.getTime() > Date.now() : false;
});

// è®¡ç®—å¤©æ•°å·®ï¼šæœªæ¥åˆ™å‘ä¸Šå–æ•´ï¼Œè¿‡å»åˆ™å‘ä¸‹å–æ•´
const dayCount = computed(() => {
  const d = parsedDate.value;
  if (!d) return 0;
  const now = Date.now();
  const msPerDay = 1000 * 60 * 60 * 24;
  const diff = now - d.getTime();
  return diff >= 0
    ? Math.floor(diff / msPerDay)
    : Math.ceil(-diff / msPerDay);
});
</script>

<template>
  <div v-if="theme.aside.timing?.enable" class="timing-card s-card">
    <!-- æœªæ¥å€’è®¡æ—¶ -->
    <p v-if="isFuture" class="custom-text">
      â³ è·ç¦» 
          <span class="event-name">
        {{ theme.aside.timing.event }}
    </span> è¿˜æœ‰
      <span class="day-number">{{ dayCount }}</span> å¤©
    </p>
    <!-- è¿‡å»ç´¯è®¡å¤©æ•° -->
    <p v-else class="custom-text">
      ğŸ’Œ 
      <span class="title-name">
        {{ theme.aside.timing.name }}
    </span> 
          <span class="event-name">
        {{ theme.aside.timing.event }}
    </span>
    å·²ç»
      <span class="day-number">{{ dayCount }}</span> å¤©
    </p>
  </div>
</template>

<style scoped>
/* åªä¿ç•™ç»„ä»¶ç‰¹å®šçš„æ ·å¼ï¼Œé€šç”¨æ ·å¼ç”± s-card å¤„ç† */
.timing-card {
  padding: 1rem;
  display: flex;
  justify-content: center;
  align-items: center;
}

.title-name {
  font-weight: bold;
  font-size: 1.1rem;
}

.event-name {
  font-size: 1.2rem;
  font-weight: 800;
  color: var(--vp-c-brand);
  margin: 0 0.25rem;
  color: var(--main-color);
}

.custom-text {
  font-size: 1rem;
  color: var(--vp-c-text-2);
  text-align: center;
  line-height: 1.5;
}

.day-number {
  font-size: 1.5em;
  font-weight: 800;
  color: var(--vp-c-brand);
  vertical-align: middle;
  color: var(--main-color);
}
</style>

```

## ä¿®æ”¹ index.vue
ä¿®æ”¹index.vueä½¿Weather.vueæŒ‚è½½åœ¨ä¾§è¾¹<br>
index.vueè·¯å¾„ï¼š<br>
`.vitepress\theme\components\Aside\index.vue`

```vue{7}
<Weather
v-if="theme.aside.weather.enable && showWeather"
class="weidgets"
@fetch-error="onWeatherError"
/>
<Countdown class="weidgets" />
<Timing v-if="theme.aside.timing.enable" class="weidgets" />
<!-- HelloGithub çƒ­æ¦œ -->
<HelloGithubHot
v-if="theme.aside.HelloGithub.enable && showHot"
@fetch-error="onHotError"
/>
```

## ä¿®æ”¹ themeConfig.mjs
`.vitepress\theme\assets\themeConfig.mjs`
```js
    timing: {
      enable: true,
      name: "æ± é±¼", //è¦æ˜¾ç¤ºçš„åå­—
      event: "æ´»ç€", //äº‹ä»¶åç§°
      date: "2010-09-07", //å‡ºç”Ÿæ—¥æœŸ
    },
},
```